<md-content ng-controller="UserController" layout="column" flex class="relative" layout-fill role="main">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<md-button class="md-icon-button" aria-label="Open SideNav" ng-click="openSidenav()">
				<md-icon md-svg-icon="navigation:ic_menu"></md-icon>
			</md-button>
			<h3>
				<span>Users</span>
			</h3>
			<span flex></span>
			<md-button class="md-icon-button"
			           ng-disabled="selected == undefined || selected == null || selected.length != 1"
			           ng-click="editUser($event)"
			           aria-label="Edit">
				<md-icon md-svg-icon="editor:ic_mode_edit"></md-icon>
			</md-button>
			<md-button class="md-icon-button"
			           aria-label="Delete"
			           ng-click="deleteUsers($event)"
			           ng-disabled="selected == undefined || selected == null || selected.length == 0">
				<md-icon md-svg-icon="action:ic_delete"></md-icon>
			</md-button>
		</div>
	</md-toolbar>
	<md-progress-linear ng-show="users == undefined || users == null" md-mode="query"></md-progress-linear>
	<md-grid-list ng-show="users != null"
	              md-cols="1"
	              md-cols-sm="2"
	              md-cols-md="3"
	              md-cols-gt-md="4"
	              md-row-height="16:9"
	              md-gutter="4px"
	              md-gutter-gt-sm="2px">
		<md-grid-tile ng-repeat="user in users" layouy="column" layout-align="start start">
			<md-grid-tile-header layout="row" flex>
				<h3><span ng-bind="user.userId"></span><em ng-bind="'(' + user.fullName + ')'"></em></h3>
			</md-grid-tile-header>
			<div layout="column" layout-align="start start" flex>
				<md-checkbox class="md-secondary"
				             ng-model="user.selected"
				             aria-label="Select User"
				             ng-change="checkSelected(user)"></md-checkbox>
				<div layout="row" layout-align="start start" flex>
					<md-button class="md-fab md-primary" layout="column" layout-align="center center" ng-click="selectUser(user)">
						<img class="md-avatar"
						     src="/assets/users/{{user.userId}}.png"
						     height="48px"
						     width="48px"
						     aria-label="Avatar for {{user.userId}}"/>
					</md-button>
					<div layout="column" flex>
						<span ng-bind="user.emailAddress"></span>
						<span ng-bind="user.dateOfBirth"></span>
					</div>
				</div>
			</div>
			<md-grid-tile-footer>
				<md-button class="md-icon-button" ng-click="editUser($event, user)" aria-label="Edit">
					<md-icon md-svg-icon="editor:ic_mode_edit"></md-icon>
				</md-button>
				<md-button class="md-icon-button" aria-label="Delete" ng-click="deleteUser($event, user)">
					<md-icon md-svg-icon="action:ic_delete"></md-icon>
				</md-button>
			</md-grid-tile-footer>
		</md-grid-tile>
	</md-grid-list>
	<md-button class="md-fab md-fab-bottom-right" aria-label="Add" ng-click="addUser($event)">
		<md-icon md-svg-icon="content:ic_add"></md-icon>
	</md-button>
</md-content>